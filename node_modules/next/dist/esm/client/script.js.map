{"version":3,"sources":["../../client/script.tsx"],"names":["ReactDOM","React","useEffect","useContext","useRef","HeadManagerContext","DOMAttributeNames","requestIdleCallback","ScriptCache","Map","LoadCache","Set","ignoreProps","loadScript","props","src","id","onLoad","onReady","dangerouslySetInnerHTML","children","strategy","onError","cacheKey","has","add","get","then","afterLoad","el","document","createElement","loadPromise","Promise","resolve","reject","addEventListener","e","call","catch","innerHTML","__html","textContent","Array","isArray","join","set","k","value","Object","entries","undefined","includes","attr","toLowerCase","setAttribute","body","appendChild","handleClientScriptLoad","window","loadLazyScript","readyState","addBeforeInteractiveToCache","scripts","querySelectorAll","forEach","script","getAttribute","initScriptLoader","scriptLoaderItems","Script","restProps","updateScripts","getIsSsr","appDir","nonce","hasOnReadyEffectCalled","current","hasLoadScriptEffectCalled","concat","JSON","stringify","preload","integrity","as","defineProperty"],"mappings":"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"}