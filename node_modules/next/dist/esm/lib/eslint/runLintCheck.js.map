{"version":3,"sources":["../../../lib/eslint/runLintCheck.ts"],"names":["promises","fs","chalk","path","findUp","semver","CommentJson","formatResults","writeDefaultConfig","hasEslintConfiguration","writeOutputFile","ESLINT_PROMPT_VALUES","existsSync","findPagesDir","installDependencies","hasNecessaryDependencies","Log","isError","getProperError","getPkgManager","VALID_SEVERITY","isValidSeverity","severity","includes","requiredPackages","file","pkg","exportsRestrict","cliPrompt","console","log","bold","cyan","cliSelect","Promise","resolve","require","default","value","values","valueRenderer","title","recommended","selected","name","underline","yellow","unselected","config","lint","baseDir","lintDirs","eslintrcFile","pkgJsonPath","hasAppDir","lintDuringBuild","eslintOptions","reportErrorsOnly","maxWarnings","formatter","outputFile","mod","ESLint","deps","packageManager","missing","some","dep","error","resolved","get","eslintVersion","version","CLIEngine","lt","red","options","useEslintrc","baseConfig","errorOnUnmatchedPattern","extensions","cache","eslint","nextEslintPluginIsEnabled","nextRulesEnabled","Map","configFile","completeConfig","calculateConfigForFile","plugins","Object","entries","rules","startsWith","length","set","pagesDir","pagesDirRules","updatedPagesDir","rule","replace","warn","lintStart","process","hrtime","results","lintFiles","selectedFormatter","fix","outputFixes","getErrorResults","loadFormatter","formattedResult","format","lintEnd","totalWarnings","reduce","sum","warningCount","output","outputWithMessages","eventInfo","durationInSeconds","lintedFilesCount","lintFix","nextEslintPluginVersion","has","join","dirname","nextEslintPluginErrorsCount","totalNextPluginErrorCount","nextEslintPluginWarningsCount","totalNextPluginWarningCount","fromEntries","err","message","runLintCheck","opts","strict","cwd","packageJsonConfig","pkgJsonContent","readFile","encoding","parse","exists","emptyPkgJsonConfig","emptyEslintrc","selectedConfig","find","opt","ready"],"mappings":"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"}