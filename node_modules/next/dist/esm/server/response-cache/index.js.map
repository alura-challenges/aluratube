{"version":3,"sources":["../../../server/response-cache/index.ts"],"names":["RenderResult","ResponseCache","constructor","incrementalCache","minimalMode","pendingResponses","Map","get","key","responseGenerator","context","pendingResponseKey","isManualRevalidate","pendingResponse","resolver","rejecter","promise","Promise","resolve","reject","set","resolved","cacheEntry","previousCacheItem","expiresAt","Date","now","entry","delete","cachedResponse","isStale","revalidate","curRevalidate","value","kind","html","fromStatic","pageData","isPrefetch","resolveValue","isMiss","toUnchunkedString","undefined","err","Math","min","max","console","error"],"mappings":"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"}