{"version":3,"sources":["../../../server/dev/on-demand-entry-handler.ts"],"names":["origDebug","EventEmitter","findPageFile","runDependingOnPageType","join","posix","normalizePathSep","normalizePagePath","ensureLeadingSlash","removePagePathTail","reportTrigger","getRouteFromEntrypoint","getPageStaticInfo","isMiddlewareFile","isMiddlewareFilename","PageNotFoundError","COMPILER_INDEXES","COMPILER_NAMES","RSC_MODULE_TYPES","debug","keys","Object","COMPILER_KEYS","treePathToEntrypoint","segmentPath","parentPath","parallelRouteKey","segment","path","startsWith","length","childSegmentPath","slice","convertDynamicParamTypeToSyntax","dynamicParamTypeShort","param","Error","getEntrypointsFromTree","tree","isFirst","parallelRoutes","currentSegment","Array","isArray","currentPath","reduce","paths","key","childTree","childPages","ADDED","Symbol","BUILDING","BUILT","EntryTypes","ENTRY","CHILD_ENTRY","entries","invalidator","getInvalidator","doneCallbacks","lastClientAccessPages","lastServerAccessPagesForAppDir","Invalidator","building","Set","rebuildAgain","constructor","multiCompiler","shouldRebuildAll","size","invalidate","compilerKeys","has","add","compilers","watching","startBuilding","compilerKey","doneBuilding","rebuild","delete","push","disposeInactiveEntries","maxInactiveAge","forEach","entryKey","entryData","lastActiveTime","status","dispose","type","includes","Date","now","tryToNormalizePagePath","page","err","console","error","findPagePathData","rootDir","extensions","pagesDir","appDir","normalizedPagePath","pagePath","pageUrl","absolutePagePath","bundlePath","normalize","keepIndex","require","resolve","onDemandEntryHandler","nextConfig","pagesBufferLength","compilation","compilationName","name","compiler","hooks","make","tap","getPagePathsFromEntrypoints","entrypoints","root","pagePaths","entrypoint","values","done","multiStats","clientStats","serverStats","edgeServerStats","stats","client","server","edgeServer","entry","emit","pingIntervalTime","Math","max","min","setInterval","unref","handleAppDirPing","pages","toSend","invalid","compilerType","pageKey","entryInfo","unshift","pop","success","handlePing","pg","ensurePage","clientOnly","appPaths","stalledTime","stalledEnsureTimeout","setTimeout","pagePathData","pageExtensions","isInsideAppDir","addEntry","newEntry","shouldInvalidate","request","staticInfo","pageFilePath","isDev","pageType","added","Map","isServerComponent","rsc","pageRuntime","runtime","onClient","set","onServer","edgeServerEntry","onEdgeServer","serverEntry","addedValues","entriesThatShouldBeInvalidated","filter","hasNewEntry","some","invalidatePromises","map","Promise","reject","once","all","clearTimeout","onHMR","addEventListener","data","parsedData","JSON","parse","toString","event","result","appDirRoute","send","stringify","_"],"mappings":"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"}