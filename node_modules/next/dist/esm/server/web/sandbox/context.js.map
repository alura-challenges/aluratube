{"version":3,"sources":["../../../../server/web/sandbox/context.ts"],"names":["AsyncLocalStorage","decorateServerError","getServerError","COMPILER_NAMES","EDGE_UNSUPPORTED_NODE_APIS","EdgeRuntime","readFileSync","promises","fs","validateURL","pick","fetchInlineAsset","WEBPACK_HASH_REGEX","moduleContexts","Map","clearModuleContext","path","content","key","cache","prev","paths","get","replace","toString","delete","loadWasm","wasm","modules","Promise","all","map","binding","module","WebAssembly","compile","readFile","filePath","name","buildEnvironmentVariablesFrom","keys","pairs","process","env","Object","fromEntries","NEXT_RUNTIME","throwUnsupportedAPIError","error","Error","edgeServer","createProcessPolyfill","options","processPolyfill","overridenValue","defineProperty","undefined","set","value","enumerable","addStub","context","getDecorateUnhandledError","runtime","EdgeRuntimeError","evaluate","getDecorateUnhandledRejection","rejected","reason","createModuleContext","warnedEvals","Set","warnedWasmCodegens","edgeFunctionEntry","codeGeneration","NODE_ENV","strings","extend","__next_eval__","fn","has","warning","captureStackTrace","add","onWarning","__next_webassembly_compile__","__next_webassembly_instantiate__","result","instantiatedFromBuffer","hasOwnProperty","__fetch","fetch","input","init","assetResponse","assets","distDir","headers","Headers","prevs","split","concat","moduleName","join","url","String","__Request","Request","constructor","next","__redirect","Response","redirect","bind","args","assign","decorateUnhandledError","addEventListener","decorateUnhandledRejection","pendingModuleCaches","getModuleContextShared","deferredModuleContext","getModuleContext","moduleContext","useCache","evaluateInContext","filepath"],"mappings":"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"}