{"version":3,"sources":["../../../../server/web/sandbox/sandbox.ts"],"names":["getServerError","getModuleContext","requestToBodyStream","ErrorSource","Symbol","FORBIDDEN_HEADERS","withTaggedErrors","fn","params","then","result","waitUntil","catch","error","getRuntimeContext","runtime","evaluateInContext","moduleName","name","onWarning","useCache","env","edgeFunctionEntry","distDir","paramPath","paths","run","subreq","request","headers","subrequests","split","includes","Promise","resolve","response","context","Response","edgeFunction","_ENTRIES","default","cloned","method","body","cloneBodyStream","undefined","KUint8Array","evaluate","headerName","delete","finalize"],"mappings":"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"}