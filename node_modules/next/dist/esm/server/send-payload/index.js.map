{"version":3,"sources":["../../../server/send-payload/index.ts"],"names":["isResSent","generateETag","fresh","setRevalidateHeaders","sendEtagResponse","req","res","etag","setHeader","headers","statusCode","end","sendRenderResult","result","type","generateEtags","poweredByHeader","options","payload","isDynamic","toUnchunkedString","undefined","resultContentType","contentType","getHeader","Buffer","byteLength","method","pipe"],"mappings":"AAEA,SAASA,SAAS,QAAQ,wBAAwB,CAAA;AAClD,SAASC,YAAY,QAAQ,aAAa,CAAA;AAC1C,OAAOC,KAAK,MAAM,0BAA0B,CAAA;AAE5C,SAASC,oBAAoB,QAAQ,sBAAsB,CAAA;AAO3D,SAASA,oBAAoB,GAAE;AAE/B,OAAO,SAASC,gBAAgB,CAC9BC,GAAoB,EACpBC,GAAmB,EACnBC,IAAwB,EACf;IACT,IAAIA,IAAI,EAAE;QACR;;;;;OAKG,CACHD,GAAG,CAACE,SAAS,CAAC,MAAM,EAAED,IAAI,CAAC;KAC5B;IAED,IAAIL,KAAK,CAACG,GAAG,CAACI,OAAO,EAAE;QAAEF,IAAI;KAAE,CAAC,EAAE;QAChCD,GAAG,CAACI,UAAU,GAAG,GAAG;QACpBJ,GAAG,CAACK,GAAG,EAAE;QACT,OAAO,IAAI,CAAA;KACZ;IAED,OAAO,KAAK,CAAA;CACb;AAED,OAAO,eAAeC,gBAAgB,CAAC,EACrCP,GAAG,CAAA,EACHC,GAAG,CAAA,EACHO,MAAM,CAAA,EACNC,IAAI,CAAA,EACJC,aAAa,CAAA,EACbC,eAAe,CAAA,EACfC,OAAO,CAAA,EASR,EAAiB;IAChB,IAAIjB,SAAS,CAACM,GAAG,CAAC,EAAE;QAClB,OAAM;KACP;IAED,IAAIU,eAAe,IAAIF,IAAI,KAAK,MAAM,EAAE;QACtCR,GAAG,CAACE,SAAS,CAAC,cAAc,EAAE,SAAS,CAAC;KACzC;IAED,MAAMU,OAAO,GAAGL,MAAM,CAACM,SAAS,EAAE,GAAG,IAAI,GAAG,MAAMN,MAAM,CAACO,iBAAiB,EAAE;IAE5E,IAAIF,OAAO,EAAE;QACX,MAAMX,IAAI,GAAGQ,aAAa,GAAGd,YAAY,CAACiB,OAAO,CAAC,GAAGG,SAAS;QAC9D,IAAIjB,gBAAgB,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,CAAC,EAAE;YACpC,OAAM;SACP;KACF;IAED,MAAMe,iBAAiB,GAAGT,MAAM,CAACU,WAAW,EAAE;IAE9C,IAAI,CAACjB,GAAG,CAACkB,SAAS,CAAC,cAAc,CAAC,EAAE;QAClClB,GAAG,CAACE,SAAS,CACX,cAAc,EACdc,iBAAiB,GACbA,iBAAiB,GACjBR,IAAI,KAAK,KAAK,GACd,0BAA0B,GAC1BA,IAAI,KAAK,MAAM,GACf,kBAAkB,GAClB,0BAA0B,CAC/B;KACF;IAED,IAAII,OAAO,EAAE;QACXZ,GAAG,CAACE,SAAS,CAAC,gBAAgB,EAAEiB,MAAM,CAACC,UAAU,CAACR,OAAO,CAAC,CAAC;KAC5D;IAED,IAAID,OAAO,IAAI,IAAI,EAAE;QACnBd,oBAAoB,CAACG,GAAG,EAAEW,OAAO,CAAC;KACnC;IAED,IAAIZ,GAAG,CAACsB,MAAM,KAAK,MAAM,EAAE;QACzBrB,GAAG,CAACK,GAAG,CAAC,IAAI,CAAC;KACd,MAAM,IAAIO,OAAO,EAAE;QAClBZ,GAAG,CAACK,GAAG,CAACO,OAAO,CAAC;KACjB,MAAM;QACL,MAAML,MAAM,CAACe,IAAI,CAACtB,GAAG,CAAC;KACvB;CACF"}