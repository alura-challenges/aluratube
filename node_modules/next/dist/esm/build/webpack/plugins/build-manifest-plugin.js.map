{"version":3,"sources":["../../../../build/webpack/plugins/build-manifest-plugin.ts"],"names":["devalue","webpack","sources","BUILD_MANIFEST","MIDDLEWARE_BUILD_MANIFEST","CLIENT_STATIC_FILES_PATH","CLIENT_STATIC_FILES_RUNTIME_MAIN","CLIENT_STATIC_FILES_RUNTIME_MAIN_APP","CLIENT_STATIC_FILES_RUNTIME_POLYFILLS_SYMBOL","CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH","CLIENT_STATIC_FILES_RUNTIME_AMP","getRouteFromEntrypoint","ampFirstEntryNamesMap","getSortedRoutes","spans","generateClientManifest","compiler","compilation","assetMap","rewrites","compilationSpan","get","genClientManifestSpan","traceChild","traceFn","clientManifest","__rewrites","appDependencies","Set","pages","sortedPageKeys","Object","keys","forEach","page","dependencies","filteredDeps","filter","dep","has","length","sortedPages","getEntrypointFiles","entrypoint","getFiles","file","test","map","replace","processRoute","r","rewrite","destination","startsWith","BuildManifestPlugin","constructor","options","buildId","isDevFallback","beforeFiles","afterFiles","fallback","appDirEnabled","exportRuntime","createAssets","assets","createAssetsSpan","entrypoints","polyfillFiles","devFiles","ampDevFiles","lowPriorityFiles","rootMainFiles","ampFirstPages","ampFirstEntryNames","entryName","pagePath","push","mainFiles","compilationAssets","getAssets","p","name","endsWith","info","v","systemEntrypoints","values","filesForPage","srcEmptySsgManifest","ssgManifestPath","RawSource","sort","reduce","a","c","buildManifestName","JSON","stringify","clientManifestPath","apply","hooks","make","tap","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_ADDITIONS"],"mappings":"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"}