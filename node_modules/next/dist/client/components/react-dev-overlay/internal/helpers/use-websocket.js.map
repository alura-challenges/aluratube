{"version":3,"sources":["../../../../../../client/components/react-dev-overlay/internal/helpers/use-websocket.ts"],"names":["useWebsocket","useSendMessage","useWebsocketPing","assetPrefix","webSocketRef","useRef","useEffect","current","hostname","port","window","location","protocol","getSocketProtocol","normalizedAssetPrefix","replace","url","startsWith","split","WebSocket","sendMessage","useCallback","data","socket","readyState","OPEN","send","websocketRef","tree","useContext","GlobalLayoutRouterContext","interval","setInterval","JSON","stringify","event","appDirRoute","clearInterval"],"mappings":"AAAA;;;;QAIgBA,YAAY,GAAZA,YAAY;QA0BZC,cAAc,GAAdA,cAAc;QAcdC,gBAAgB,GAAhBA,gBAAgB;AA5C2B,IAAA,MAAO,WAAP,OAAO,CAAA;AACxB,IAAA,iBAA8C,WAA9C,8CAA8C,CAAA;AACtD,IAAA,kBAAuB,WAAvB,uBAAuB,CAAA;AAElD,SAASF,YAAY,CAACG,WAAmB,EAAE;IAChD,MAAMC,YAAY,GAAGC,CAAAA,GAAAA,MAAM,AAAa,CAAA,OAAb,EAAa;IAExCC,CAAAA,GAAAA,MAAS,AAkBQ,CAAA,UAlBR,CAAC,IAAM;QACd,IAAIF,YAAY,CAACG,OAAO,EAAE;YACxB,OAAM;SACP;QAED,MAAM,EAAEC,QAAQ,CAAA,EAAEC,IAAI,CAAA,EAAE,GAAGC,MAAM,CAACC,QAAQ;QAC1C,MAAMC,QAAQ,GAAGC,CAAAA,GAAAA,kBAAiB,AAAa,CAAA,kBAAb,CAACV,WAAW,CAAC;QAC/C,MAAMW,qBAAqB,GAAGX,WAAW,CAACY,OAAO,SAAS,EAAE,CAAC;QAE7D,IAAIC,GAAG,GAAG,CAAC,EAAEJ,QAAQ,CAAC,GAAG,EAAEJ,QAAQ,CAAC,CAAC,EAAEC,IAAI,CAAC,EAC1CK,qBAAqB,GAAG,CAAC,CAAC,EAAEA,qBAAqB,CAAC,CAAC,GAAG,EAAE,CACzD,CAAC;QAEF,IAAIA,qBAAqB,CAACG,UAAU,CAAC,MAAM,CAAC,EAAE;YAC5CD,GAAG,GAAG,CAAC,EAAEJ,QAAQ,CAAC,GAAG,EAAEE,qBAAqB,CAACI,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SAC/D;QAEDd,YAAY,CAACG,OAAO,GAAG,IAAIG,MAAM,CAACS,SAAS,CAAC,CAAC,EAAEH,GAAG,CAAC,kBAAkB,CAAC,CAAC;KACxE,EAAE;QAACb,WAAW;KAAC,CAAC;IAEjB,OAAOC,YAAY,CAAA;CACpB;AAEM,SAASH,cAAc,CAACG,YAA6C,EAAE;IAC5E,MAAMgB,WAAW,GAAGC,CAAAA,GAAAA,MAAW,AAS9B,CAAA,YAT8B,CAC7B,CAACC,IAAI,GAAK;QACR,MAAMC,MAAM,GAAGnB,YAAY,CAACG,OAAO;QACnC,IAAI,CAACgB,MAAM,IAAIA,MAAM,CAACC,UAAU,KAAKD,MAAM,CAACE,IAAI,EAAE;YAChD,OAAM;SACP;QACD,OAAOF,MAAM,CAACG,IAAI,CAACJ,IAAI,CAAC,CAAA;KACzB,EACD;QAAClB,YAAY;KAAC,CACf;IACD,OAAOgB,WAAW,CAAA;CACnB;AAEM,SAASlB,gBAAgB,CAC9ByB,YAA6C,EAC7C;IACA,MAAMP,WAAW,GAAGnB,cAAc,CAAC0B,YAAY,CAAC;IAChD,MAAM,EAAEC,IAAI,CAAA,EAAE,GAAGC,CAAAA,GAAAA,MAAU,AAA2B,CAAA,WAA3B,CAACC,iBAAyB,0BAAA,CAAC;IAEtDxB,CAAAA,GAAAA,MAAS,AAcc,CAAA,UAdd,CAAC,IAAM;QACd,yCAAyC;QACzC,2BAA2B;QAC3B,MAAMyB,QAAQ,GAAGC,WAAW,CAAC,IAAM;YACjCZ,WAAW,CACTa,IAAI,CAACC,SAAS,CAAC;gBACbC,KAAK,EAAE,MAAM;gBACb,oFAAoF;gBACpFP,IAAI;gBACJQ,WAAW,EAAE,IAAI;aAClB,CAAC,CACH;SACF,EAAE,IAAI,CAAC;QACR,OAAO,IAAMC,aAAa,CAACN,QAAQ,CAAC,CAAA;KACrC,EAAE;QAACH,IAAI;QAAER,WAAW;KAAC,CAAC;CACxB"}